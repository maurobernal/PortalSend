
@{ ViewBag.Title = "Index"; }

<h2>Indexw</h2>

<script src="~/Scripts/dropzone/dropzone.js"></script>
<link href="~/Scripts/dropzone/dropzone.css" rel="stylesheet">

<div class="container">

    <div class="row">
        <div class="col">
            <div id="FileUpload"></div>
            <form action="@Url.Action("SubirArchivo","FileUpload" )" class="dropzone" id="my-dropzone"></form>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div id="listview_resultados"></div>
            <div id="pager_resultados" class="k-pager-wrap"></div>
        </div>

    </div>

    <div class="demo-section k-content wide">
        <div id="listView"></div>
        <div id="pager" class="k-pager-wrap"></div>
    </div>

</div>


<script type="text/x-kendo-template" id="template">
    <div class="product">
        <h3>#:res_observacion#</h3>
        <p>ID:#:res_id#</p>
    </div>
</script>

<script type="text/javascript">


    Dropzone.options.myDropzone = {
        init: function () {
            this.on("addedfile", function () {
                // Show submit button here and/or inform user to click it.
            });

            this.on("success", function (file, response) {
                // Show submit button here and/or inform user to click it.
                CargarDatos(response);
            });

            this.on("complete", function () {
                // Show submit button here and/or inform user to click it.
                //      alert("Archivo completo");
            });
        }
    };


    function CargarDatos(products) {
        var dataSource = new kendo.data.DataSource({
            data: products,
            pageSize: 200
        });

        $("#pager_resultados").kendoPager({
            dataSource: dataSource
        });

        $("#listview_resultados").kendoListView({
            dataSource: dataSource,
            template: kendo.template($("#template").html())
        });
    };



</script>



<style>
    #listView {
        padding: 2px;
        min-height: 200px;
        /* Avoid cutout if font or line is bigger */
        font: inherit;
    }

    .product {
        float: left;
        position: relative;
        width: 200px;
        height: 50px;
        margin: 0 5px;
        padding: 0;
    }

        .product h3 {
            margin: 0;
            padding: 3px 5px 0 0;
            max-width: 96px;
            overflow: hidden;
            line-height: 1.1em;
            font-size: .9em;
            font-weight: normal;
            text-transform: uppercase;
            color: #999;
        }

        .product p {
            visibility: hidden;
        }

        .product:hover p {
            visibility: visible;
            position: absolute;
            width: 200px;
            height: 50px;
            top: 0;
            margin: 0;
            padding: 0;
            vertical-align: middle;
            text-align: center;
            color: #fff;
            background-color: rgba(0,0,0,0.75);
            transition: background .2s linear, color .2s linear;
            -moz-transition: background .2s linear, color .2s linear;
            -webkit-transition: background .2s linear, color .2s linear;
            -o-transition: background .2s linear, color .2s linear;
        }

    .k-listview:after {
        content: ".";
        display: block;
        height: 0;
        clear: both;
        visibility: hidden;
    }
</style>